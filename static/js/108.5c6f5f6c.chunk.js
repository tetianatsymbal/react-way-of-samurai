"use strict";(self.webpackChunkreact_kabzda_1=self.webpackChunkreact_kabzda_1||[]).push([[108],{2331:function(e,s,r){r.r(s),r.d(s,{default:function(){return F}});var n=r(5671),o=r(3144),t=r(136),a=r(2882),i=r(2791),u=r(8687),l=r(4606),c=function(e){return e.usersPage.users},g=function(e){return e.usersPage.pageSize},d=function(e){return e.usersPage.totalUsersCount},p=function(e){return e.usersPage.currentPage},h=function(e){return e.usersPage.isFetching},f=function(e){return e.usersPage.followingInProgress},P=r(6049),j=r(5987),x=r(885),_={pages:"Paginator_pages__xZaO7",selectedPage:"Paginator_selectedPage__CRNLp"},w=r(184),C=function(e){for(var s=e.currentPage,r=e.totalItemsCount,n=e.pageSize,o=e.onPageChanged,t=e.portionSize,a=void 0===t?10:t,u=Math.ceil(r/n),l=[],c=1;c<=u;c++)l.push(c);var g=Math.ceil(u/a),d=(0,i.useState)(1),p=(0,x.Z)(d,2),h=p[0],f=p[1],P=(h-1)*a+1,j=h*a;return(0,w.jsxs)("div",{className:_.pages,children:[h>1&&(0,w.jsx)("button",{onClick:function(){f(h-1)},className:_.arrow,children:"\u2190"}),l.filter((function(e){return e>=P&&e<=j})).map((function(e){return(0,w.jsx)("span",{className:s===e&&_.selectedPage,onClick:function(s){o(e)},children:e},e)})),h<g&&(0,w.jsx)("button",{onClick:function(){f(h+1)},className:_.arrow,children:"\u2192"})]})},v=r(3504),m=r.p+"static/media/default-photo.e81466d97661700d563a.jpeg",U={usersBlock:"Users_usersBlock__dtZEL",users:"Users_users__oN5Ju",userPhoto:"Users_userPhoto__wCV7+",pages:"Users_pages__R6hxo",pageNumber:"Users_pageNumber__O0W2i",selectedPage:"Users_selectedPage__PbAMG"},k=function(e){var s=e.user,r=e.followingInProgress,n=e.unFollow,o=e.follow;return(0,w.jsxs)("div",{className:U.user,children:[(0,w.jsxs)("div",{children:[(0,w.jsx)("div",{children:(0,w.jsx)(v.OL,{to:"./../profile/"+s.id,children:(0,w.jsx)("img",{className:U.userPhoto,src:null!=s.photos.small?s.photos.small:m})})}),(0,w.jsx)("div",{children:s.followed?(0,w.jsx)("button",{disabled:r.some((function(e){return e===s.id})),onClick:function(){n(s.id)},children:" UNFOLLOW "}):(0,w.jsx)("button",{disabled:r.some((function(e){return e===s.id})),onClick:function(){o(s.id)},children:" FOLLOW "})})]}),(0,w.jsxs)("div",{children:[(0,w.jsxs)("span",{children:[(0,w.jsx)("div",{children:s.name}),(0,w.jsx)("div",{children:s.status})]}),(0,w.jsxs)("span",{children:[(0,w.jsx)("div",{children:"user.location.country"}),(0,w.jsx)("div",{children:"user.location.city"})]})]})]},s.id)},N=["currentPage","totalUsersCount","pageSize","onPageChanged","users"],b=function(e){var s=e.currentPage,r=e.totalUsersCount,n=e.pageSize,o=e.onPageChanged,t=e.users,a=(0,j.Z)(e,N);return(0,w.jsxs)("div",{className:U.usersBlock,children:[(0,w.jsx)(C,{currentPage:s,onPageChanged:o,totalItemsCount:r,pageSize:n}),(0,w.jsx)("div",{className:U.users,children:t.map((function(e){return(0,w.jsx)(k,{user:e,followingInProgress:a.followingInProgress,unFollow:a.unFollow,follow:a.follow},e.id)}))})]})},z=function(e){(0,t.Z)(r,e);var s=(0,a.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];return(e=s.call.apply(s,[this].concat(t))).onPageChanged=function(s){var r=e.props.pageSize;e.props.requestUsers(s,r)},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){var e=this.props,s=e.currentPage,r=e.pageSize;this.props.requestUsers(s,r)}},{key:"render",value:function(){return(0,w.jsxs)(w.Fragment,{children:[this.props.isFetching?(0,w.jsx)(P.Z,{}):null,(0,w.jsx)(b,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,unFollow:this.props.unFollow,follow:this.props.follow,followingInProgress:this.props.followingInProgress})]})}}]),r}(i.Component),F=(0,u.$j)((function(e){return{users:c(e),pageSize:g(e),totalUsersCount:d(e),currentPage:p(e),isFetching:h(e),followingInProgress:f(e)}}),{follow:l.ZN,unFollow:l.IJ,setUsers:l.HM,setCurrentPage:l.D4,setTotalUsersCount:l.K1,toggleFollowingProgress:l.ZH,requestUsers:l.D7})(z)}}]);
//# sourceMappingURL=108.5c6f5f6c.chunk.js.map